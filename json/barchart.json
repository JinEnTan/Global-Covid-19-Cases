{ 
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json", 
    "title": { "text": "Top 10 Countries with Most Recovered Cases" }, 
    "width":"800",
    "height":"container",
    "data": { "url": "https://raw.githubusercontent.com/JinEnTan/Global-Covid-19-Cases/master/data/worldometer_coronavirus_summary_data.csv" },
    "transform": [
        {"calculate": "parseInt(datum.total_recovered)", "as": "total_recovered"},
          { 
  
            "sort": [{"field": "total_recovered", "order": "descending"}],   
            "window": [{
                "op": "rank",
                "as": "rank"
            }] 
                }, {
                    "filter": "datum.rank <= 10"
                  }
      ],
  
   "mark": "bar", 
   "encoding": {
  "x": { "field": "total_recovered", "type": "quantitative" }, 
  "y": { "field": "country", "type": "nominal" ,"sort": {"field": "total_recovered", "op": "max", "order":"descending"}} } }